<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Book</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <header>
    <h1><a href="/">Writer's Library Hub</a></h1>
    <nav>
      <div>
        <a href="/books">Explore</a>
        <a href="/books/author/<%= user.id %>">My Books</a>
        <a href="/books/add">Add New Book</a>
      </div>
      <form class="nav-form" action="/logout" method="post">
        <a href="/authors/<%= user.id %>/profile">
          <%= user.name %>
        </a>
        <button>Logout</button>
      </form>
    </nav>
  </header>
  <section>
    <h1>Edit Book</h1>
    <form class="form" id="edit-form" action="/books/<%= book.id %>/update" method="post">
      <div class="form-group">
        <label for="title">Book Title:</label>
        <input type="text" id="title" name="title" value="<%= book.title %>">
      </div>
      <div class="form-group">
        <label for="genre">Genre:</label>
        <input type="text" id="genre" name="genre" value="<%= book.genre %>">
      </div>
      <div class="form-group">
        <label for="publisher">Publisher:</label>
        <input type="text" id="publisher" name="publisher" value="<%= book.publisher %>">
      </div>
      <div class="form-group">
        <label for="pagecount">Page Count:</label>
        <input type="number" id="pagecount" name="pageCount" value="<%= book.pageCount %>">
      </div>
      <div class="form-group">
        <label for="date">Date Published:</label>
        <input id="date" name="date" value="<%= book.datePublished %>" readonly>
      </div>
      <div class="form-group">
        <label for="description">Description:</label>
        <textarea id="description" name="description" rows="4"><%= book.description %></textarea>
      </div>
      <div class="button-group">
        <button type="submit" class="save-button">Save</button>
        <button id="cancel" type="button" class="cancel-button">Cancel</button>
      </div>
    </form>
  </section>


  <script>
    const cancelBtn = document.getElementById('cancel');
    cancelBtn.addEventListener('click', () => {
      window.location.href = '/books/<%= book.id %>';
    });
  </script>
</body>

</html>